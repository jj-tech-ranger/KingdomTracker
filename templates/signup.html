<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kingdom Tracker - Sign Up</title>
    <link rel="shortcut icon" href="../img/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="../css/signup.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="light-mode">
    <div class="signup-container">
        <div class="signup-header">
            <div class="logo">
                <img src="../img/Kingdom_Tracker.jpg" alt="Kingdom Tracker Logo">
                <span>Kingdom Tracker</span>
            </div>
            <button class="theme-toggle" id="theme-toggle"><i class="fas fa-moon"></i></button>
        </div>

        <div class="signup-progress">
            <div class="progress-step active" data-step="1">
                <div class="step-number">1</div>
                <div class="step-label">Personal Info</div>
            </div>
            <div class="progress-step" data-step="2">
                <div class="step-number">2</div>
                <div class="step-label">Children</div>
            </div>
            <div class="progress-step" data-step="3">
                <div class="step-number">3</div>
                <div class="step-label">Questions</div>
            </div>
            <div class="progress-step" data-step="4">
                <div class="step-number">4</div>
                <div class="step-label">Password</div>
            </div>
        </div>

        <form action="../templates/index.html" id="signup-form" class="signup-form">
            <!-- Step 1: Personal Information -->
            <div class="form-step active" data-step="1">
                <h2>Personal Information</h2>
                <div class="form-grid">
                    <div class="form-group">
                        <label for="first-name">First Name</label>
                        <input type="text" id="first-name" name="first_name" required>
                    </div>
                    <div class="form-group">
                        <label for="last-name">Last Name</label>
                        <input type="text" id="last-name" name="last_name" required>
                    </div>
                    <div class="form-group">
                        <label for="phone">Phone Number</label>
                        <input type="tel" id="phone" name="phone" required>
                    </div>
                    <div class="form-group">
                        <label for="email">Email</label>
                        <input type="email" id="email" name="email" required>
                    </div>
                    <div class="form-group">
                        <label for="county">County</label>
                        <select id="county" name="county" required>
                            <option value="">Select County</option>
                            <!-- Kenyan counties will be populated via JS -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="detailed-location">Detailed Location</label>
                        <input type="text" id="detailed-location" name="detailed_location" required>
                    </div>
                    <div class="form-group">
                        <label for="marital-status">Marital Status</label>
                        <select id="marital-status" name="marital_status" required>
                            <option value="">Select Status</option>
                            <option value="single">Single</option>
                            <option value="married">Married</option>
                            <option value="divorced">Divorced</option>
                            <option value="widowed">Widowed</option>
                            <option value="separated">Separated</option>
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="dob">Date of Birth</label>
                        <input type="date" id="dob" name="dob" required>
                    </div>
                </div>
            </div>

            <!-- Step 2: Children Information -->
            <div class="form-step" data-step="2">
                <h2>Children Information</h2>
                <div class="form-group radio-group">
                    <label>Do you have children?</label>
                    <div class="radio-options">
                        <label>
                            <input type="radio" name="has_children" value="yes" required> Yes
                        </label>
                        <label>
                            <input type="radio" name="has_children" value="no" required> No
                        </label>
                    </div>
                </div>

                <div id="children-container" class="hidden">
                    <div class="children-list" id="children-list">
                        <!-- Children will be added here -->
                    </div>
                    <button type="button" class="btn btn-secondary" id="add-child-btn">
                        <i class="fas fa-plus"></i> Add Child
                    </button>
                </div>
            </div>

            <!-- Step 3: Questions -->
            <div class="form-step" data-step="3">
                <h2>Additional Questions</h2>
                <div class="form-group">
                    <label for="question1">Is this your first time at CrossPoint?</label>
                    <select id="question1" name="question1" required>
                        <option value="">Select Answer</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="question2">Have you done any Connect class?</label>
                    <select id="question2" name="question2" required>
                        <option value="">Select Answer</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                </div>
                <div class="form-group">
                    <label for="question3">Have you done discipleship class?</label>
                    <select id="question3" name="question3" required>
                        <option value="">Select Answer</option>
                        <option value="yes">Yes</option>
                        <option value="no">No</option>
                    </select>
                </div>
            </div>

            <!-- Step 4: Password -->
            <div class="form-step" data-step="4">
                <h2>Create Your Password</h2>
                <div class="form-group">
                    <label for="password">Password</label>
                    <div class="password-input-container">
                        <input type="password" id="password" name="password" required>
                        <i class="fas fa-eye-slash toggle-password" data-target="password"></i>
                    </div>
                    <div class="password-strength">
                        <div class="strength-meter">
                            <div class="strength-bar" id="strength-bar"></div>
                        </div>
                        <span class="strength-text" id="strength-text">Weak</span>
                    </div>
                </div>
                <div class="form-group">
                    <label for="confirm-password">Confirm Password</label>
                    <div class="password-input-container">
                        <input type="password" id="confirm-password" name="confirm_password" required>
                        <i class="fas fa-eye-slash toggle-password" data-target="confirm-password"></i>
                    </div>
                    <div class="password-match" id="password-match"></div>
                </div>
            </div>

            <div class="form-navigation">
                <button type="button" class="btn btn-secondary" id="prev-btn" disabled>Previous</button>
                <button type="button" class="btn btn-primary" id="next-btn">Next</button>
                <button type="submit" class="btn btn-primary hidden" id="submit-btn">Sign Up</button>
            </div>
        </form>

        <div class="login-link">
            Already have an account? <a href="../templates/login.html">Log in</a>
        </div>
    </div>

    <!-- Add Child Modal -->
    <div class="modal" id="child-modal">
        <div class="modal-content">
            <span class="close-modal">&times;</span>
            <h3>Add Child</h3>
            <div class="form-group">
                <label for="child-name">Child's Name</label>
                <input type="text" id="child-name">
            </div>
            <div class="form-group">
                <label for="child-age">Age</label>
                <input type="number" id="child-age" min="0" max="25">
            </div>
            <button type="button" class="btn btn-primary" id="save-child">Add Child</button>
        </div>
    </div>

    <script src="../js/signup.js"></script>
</body>
</html>