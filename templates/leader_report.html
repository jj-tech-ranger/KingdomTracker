<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kingdom Tracker - Reports</title>
    <link rel="shortcut icon" href="../img/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="../css/crosspoint.css">
    <link rel="stylesheet" href="../css/leader_report.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="light-mode">
    <div class="crosspoint-container">
        <!-- Top Navigation Bar -->
        <nav class="crosspoint-nav">
            <div class="nav-logo">
                <img src="../img/CP%20Logo.jpg" alt="CrossPoint Logo">
                <span>CrossPoint</span>
            </div>

 <ul class="nav-menu">
                <li class="active"><a href="../templates/leader_content.html"><i class="fas fa-box-open"></i> Content</a></li>
                <li><a href="../templates/leader_teachings.html"><i class="fas fa-book"></i> Teachings</a></li>
                <li><a href="leader_prayer.html"><i class="fas fa-hands-praying"></i> Prayer</a></li>
                <li><a href="../templates/food_banks.html"><i class="fas fa-bank"></i>Bank</a></li>
                <li><a href="../templates/leader_report.html"><i class="fas fa-chart-pie"></i> Reports</a></li>
                <li><a href="../templates/leader_notifications.html"><i class="fas fa-bell"></i> Notifications</a></li>
                <li><a href="../templates/leader_profile"><i class="fas fa-user"></i> Profile</a></li>
            </ul>

            <div class="nav-user">
                <div class="user-dropdown">
                    <img src="../img/user.png" alt="User" class="user-avatar">
                    <span>Alex Meian</span>
                    <i class="fas fa-chevron-down"></i>

                    <div class="dropdown-menu">
                        <a href="../templates/index.html" class="dropdown-item">
                            <i class="fas fa-home"></i> Back to Home
                        </a>
                        <a href="../templates/login.html" class="dropdown-item logout">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </a>
                    </div>
                </div>

                <button class="theme-toggle" id="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="crosspoint-main">
            <div class="reports-header">
                <div>
                    <h1><i class="fas fa-chart-pie"></i> Reports</h1>
                    <p>Review generated ministry and performance reports here.</p>
                </div>
                <div class="reports-actions">
                    <div class="reports-filter">
                        <select id="filter-type" class="filter-select">
                            <option value="all">All Report Types</option>
                            <option value="financial">Financial</option>
                            <option value="attendance">Attendance</option>
                            <option value="events">Events</option>
                            <option value="discipleship">Discipleship</option>
                            <option value="donations">Donations</option>
                        </select>
                        <select id="filter-period" class="filter-select">
                            <option value="all">All Time Periods</option>
                            <option value="weekly">Weekly</option>
                            <option value="monthly">Monthly</option>
                            <option value="quarterly">Quarterly</option>
                            <option value="yearly">Yearly</option>
                        </select>
                        <select id="sort-by" class="filter-select">
                            <option value="newest">Newest First</option>
                            <option value="oldest">Oldest First</option>
                            <option value="type">Report Type</option>
                        </select>
                    </div>
                </div>
            </div>

            <div class="search-bar">
                <i class="fas fa-search"></i>
                <input type="text" id="report-search" placeholder="Search reports...">
            </div>

            <!-- Leader Controls -->
            <div class="leader-controls">
                <div class="view-toggle">
                    <button class="view-btn active" data-view="standard">
                        <i class="fas fa-list"></i> Standard View
                    </button>
                    <button class="view-btn" data-view="dashboard">
                        <i class="fas fa-chart-line"></i> Leader Dashboard
                    </button>
                </div>
                <div class="leader-actions">
                    <button class="btn btn-export" id="export-all">
                        <i class="fas fa-file-export"></i> Export All
                    </button>
                    <button class="btn btn-compare" id="compare-teams">
                        <i class="fas fa-users"></i> Compare Teams
                    </button>
                </div>
            </div>

            <div class="reports-container">
                <div class="reports-list" id="reports-list">
                    <!-- Reports will be dynamically inserted here -->
                </div>

                <div class="empty-state" id="empty-state">
                    <img src="../img/reports_empty.png" alt="No reports">
                    <h3>No reports to display</h3>
                    <p>When reports are published, they'll appear here.</p>
                </div>
            </div>

            <!-- Leader Dashboard -->
            <div class="leader-dashboard" id="leader-dashboard" style="display: none;">
                <div class="dashboard-header">
                    <h2><i class="fas fa-trophy"></i> Leadership Performance</h2>
                    <div class="dashboard-period">
                        <select id="dashboard-period" class="filter-select">
                            <option value="last-week">Last Week</option>
                            <option value="last-month" selected>Last Month</option>
                            <option value="last-quarter">Last Quarter</option>
                            <option value="last-year">Last Year</option>
                            <option value="custom">Custom Range</option>
                        </select>
                    </div>
                </div>

                <div class="dashboard-metrics">
                    <div class="metric-card">
                        <div class="metric-value">87%</div>
                        <div class="metric-label">Goal Completion</div>
                        <div class="metric-trend up">
                            <i class="fas fa-arrow-up"></i> 12%
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">24</div>
                        <div class="metric-label">New Disciples</div>
                        <div class="metric-trend up">
                            <i class="fas fa-arrow-up"></i> 5%
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">156</div>
                        <div class="metric-label">Total Attendance</div>
                        <div class="metric-trend down">
                            <i class="fas fa-arrow-down"></i> 3%
                        </div>
                    </div>
                    <div class="metric-card">
                        <div class="metric-value">$8,450</div>
                        <div class="metric-label">Total Giving</div>
                        <div class="metric-trend up">
                            <i class="fas fa-arrow-up"></i> 18%
                        </div>
                    </div>
                </div>

                <div class="dashboard-charts">
                    <div class="chart-container">
                        <canvas id="attendance-trend"></canvas>
                    </div>
                    <div class="chart-container">
                        <canvas id="discipleship-growth"></canvas>
                    </div>
                </div>

                <div class="team-comparison" id="team-comparison" style="display: none;">
                    <h3><i class="fas fa-users"></i> Team Comparison</h3>
                    <div class="comparison-chart">
                        <canvas id="team-performance-chart"></canvas>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="crosspoint-footer">
            <div class="footer-content">
                <img src="../img/ELYASHIB.png" alt="Elyashib Logo" class="footer-logo">
                <span class="footer-text">Powered by Elyashib</span>
            </div>
        </footer>
    </div>

    <!-- Report Modal -->
    <div class="modal" id="report-modal">
        <div class="modal-content report-modal-content">
            <div class="modal-header">
                <h2 id="report-modal-title">Report Title</h2>
                <span class="report-category" id="report-modal-category">Category</span>
                <button class="close-modal" id="close-report">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="report-meta">
                    <span id="report-modal-date"><i class="far fa-calendar"></i> Date</span>
                    <span id="report-modal-author"><i class="fas fa-user-tie"></i> Author</span>
                </div>
                <div class="report-viewer">
                    <iframe id="report-iframe" src="" frameborder="0"></iframe>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="close-report-footer">
                    Close
                </button>
                <button class="btn btn-primary" id="download-report">
                    <i class="fas fa-download"></i> Download Report
                </button>
            </div>
        </div>
    </div>

    <!-- Custom Date Range Modal -->
    <div class="modal" id="date-range-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Select Custom Date Range</h2>
                <button class="close-modal" id="close-date-range">
                    <i class="fas fa-times"></i>
                </button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label for="start-date">Start Date</label>
                    <input type="date" id="start-date" class="form-control">
                </div>
                <div class="form-group">
                    <label for="end-date">End Date</label>
                    <input type="date" id="end-date" class="form-control">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-date-range">
                    Cancel
                </button>
                <button class="btn btn-primary" id="apply-date-range">
                    Apply
                </button>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="../js/crosspoint.js"></script>
    <script src="../js/leader_report.js"></script>
</body>
</html>