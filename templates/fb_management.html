<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kingdom Tracker - Food Bank Management</title>
    <link rel="shortcut icon" href="../img/favicon.png" type="image/x-icon">
    <link rel="stylesheet" href="../css/crosspoint.css">
    <link rel="stylesheet" href="../css/fb.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
</head>
<body class="light-mode">
    <div class="crosspoint-container">
        <!-- Top Navigation Bar -->
        <nav class="crosspoint-nav">
            <div class="nav-logo">
                <img src="../img/CP%20Logo.jpg" alt="CrossPoint Logo">
                <span>CrossPoint</span>
            </div>

            <ul class="nav-menu">
                <li><a href="../templates/fb_content.html"><i class="fas fa-box-open"></i> Content</a></li>
                <li><a href="../templates/fb_teachings.html"><i class="fas fa-book"></i> Teachings</a></li>
                <li class="active"><a href="../templates/fb_management.html"><i class="fas fa-bank"></i> Food Bank</a></li>
                <li><a href="../templates/fb_reports.html"><i class="fas fa-chart-pie"></i> Reports</a></li>
                <li><a href="../templates/fb_notifications.html"><i class="fas fa-bell"></i> Notifications</a></li>
                <li><a href="../templates/fb_profile.html"><i class="fas fa-user"></i> Profile</a></li>
            </ul>

            <div class="nav-user">
                <div class="user-dropdown">
                    <img src="../img/user.png" alt="User" class="user-avatar">
                    <span>Food Bank Manager</span>
                    <i class="fas fa-chevron-down"></i>

                    <div class="dropdown-menu">
                        <a href="../templates/index.html" class="dropdown-item">
                            <i class="fas fa-home"></i> Back to Home
                        </a>
                        <a href="#" class="dropdown-item logout">
                            <i class="fas fa-sign-out-alt"></i> Logout
                        </a>
                    </div>
                </div>

                <button class="theme-toggle" id="theme-toggle">
                    <i class="fas fa-moon"></i>
                </button>
            </div>
        </nav>

        <!-- Main Content Area -->
        <main class="crosspoint-main">
            <div class="foodbank-header">
                <h1><i class="fas fa-bank"></i> Food Bank Management</h1>
                <p>Manage inventory, requests, and distributions for the food bank program.</p>
            </div>

            <div class="foodbank-tabs">
                <button class="tab-btn active" data-view="inventory">Inventory</button>
                <button class="tab-btn" data-view="requests">Requests</button>
                <button class="tab-btn" data-view="endorsed">Endorsed</button>
                <button class="tab-btn" data-view="donations">Donations</button>
            </div>

            <!-- Inventory View -->
            <div class="foodbank-view active" id="inventory-view">
                <div class="view-actions">
                    <button class="btn btn-primary" id="add-item-btn">
                        <i class="fas fa-plus"></i> Add Item
                    </button>
                    <div class="view-filters">
                        <select id="inventory-category" class="filter-select">
                            <option value="all">All Categories</option>
                            <option value="canned">Canned Goods</option>
                            <option value="grains">Grains & Pasta</option>
                            <option value="dairy">Dairy</option>
                            <option value="produce">Produce</option>
                            <option value="meat">Meat & Protein</option>
                            <option value="baby">Baby Supplies</option>
                            <option value="hygiene">Hygiene</option>
                        </select>
                        <select id="inventory-sort" class="filter-select">
                            <option value="name-asc">Name (A-Z)</option>
                            <option value="name-desc">Name (Z-A)</option>
                            <option value="quantity-asc">Quantity (Low-High)</option>
                            <option value="quantity-desc">Quantity (High-Low)</option>
                            <option value="expiry-asc">Expiry (Soonest)</option>
                        </select>
                    </div>
                </div>

                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" id="inventory-search" placeholder="Search inventory...">
                </div>

                <div class="table-container">
                    <table class="foodbank-table" id="inventory-table">
                        <thead>
                            <tr>
                                <th>Item Name</th>
                                <th>Category</th>
                                <th>Quantity</th>
                                <th>Expiry</th>
                                <th>Location</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="inventory-body">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>

                <div class="pagination" id="inventory-pagination">
                    <button class="pagination-btn" id="inventory-prev"><i class="fas fa-chevron-left"></i></button>
                    <div class="pagination-numbers" id="inventory-pages"></div>
                    <button class="pagination-btn" id="inventory-next"><i class="fas fa-chevron-right"></i></button>
                </div>

                <div class="empty-state" id="inventory-empty">
                    <img src="../img/inventory_empty.png" alt="No inventory">
                    <h3>No inventory items found</h3>
                    <p>When items are added to inventory, they will appear here.</p>
                    <button class="btn btn-primary" id="add-first-item">
                        <i class="fas fa-plus"></i> Add Your First Item
                    </button>
                </div>
            </div>

            <!-- Requests View -->
            <div class="foodbank-view" id="requests-view">
                <div class="view-actions">
                    <div class="view-filters">
                        <select id="request-status" class="filter-select">
                            <option value="all">All Statuses</option>
                            <option value="pending">Pending</option>
                            <option value="review">Under Review</option>
                            <option value="approved">Approved</option>
                            <option value="denied">Denied</option>
                            <option value="fulfilled">Fulfilled</option>
                        </select>
                        <select id="request-sort" class="filter-select">
                            <option value="date-desc">Newest First</option>
                            <option value="date-asc">Oldest First</option>
                            <option value="name-asc">Name (A-Z)</option>
                            <option value="name-desc">Name (Z-A)</option>
                        </select>
                    </div>
                </div>

                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" id="request-search" placeholder="Search requests...">
                </div>

                <div class="table-container">
                    <table class="foodbank-table" id="requests-table">
                        <thead>
                            <tr>
                                <th>Request ID</th>
                                <th>Name</th>
                                <th>Date</th>
                                <th>Items</th>
                                <th>Status</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="requests-body">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>

                <div class="pagination" id="requests-pagination">
                    <button class="pagination-btn" id="requests-prev"><i class="fas fa-chevron-left"></i></button>
                    <div class="pagination-numbers" id="requests-pages"></div>
                    <button class="pagination-btn" id="requests-next"><i class="fas fa-chevron-right"></i></button>
                </div>

                <div class="empty-state" id="requests-empty">
                    <img src="../img/requests_empty.png" alt="No requests">
                    <h3>No support requests found</h3>
                    <p>When requests are submitted, they will appear here.</p>
                </div>
            </div>

            <!-- Endorsed View -->
            <div class="foodbank-view" id="endorsed-view">
                <div class="view-actions">
                    <div class="view-filters">
                        <select id="endorsed-status" class="filter-select">
                            <option value="all">All Statuses</option>
                            <option value="pending">Pending Pickup</option>
                            <option value="scheduled">Scheduled</option>
                            <option value="distributed">Distributed</option>
                            <option value="partial">Partially Distributed</option>
                        </select>
                        <select id="endorsed-sort" class="filter-select">
                            <option value="date-desc">Newest First</option>
                            <option value="date-asc">Oldest First</option>
                            <option value="name-asc">Name (A-Z)</option>
                            <option value="name-desc">Name (Z-A)</option>
                            <option value="pickup-asc">Pickup (Soonest)</option>
                        </select>
                    </div>
                </div>

                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" id="endorsed-search" placeholder="Search endorsed...">
                </div>

                <div class="table-container">
                    <table class="foodbank-table" id="endorsed-table">
                        <thead>
                            <tr>
                                <th>Endorsement ID</th>
                                <th>Name</th>
                                <th>Date</th>
                                <th>Items</th>
                                <th>Status</th>
                                <th>Pickup</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="endorsed-body">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>

                <div class="pagination" id="endorsed-pagination">
                    <button class="pagination-btn" id="endorsed-prev"><i class="fas fa-chevron-left"></i></button>
                    <div class="pagination-numbers" id="endorsed-pages"></div>
                    <button class="pagination-btn" id="endorsed-next"><i class="fas fa-chevron-right"></i></button>
                </div>

                <div class="empty-state" id="endorsed-empty">
                    <img src="../img/endorsed_empty.png" alt="No endorsed">
                    <h3>No endorsed recipients found</h3>
                    <p>When requests are approved, they will appear here.</p>
                </div>
            </div>

            <!-- Donations View -->
            <div class="foodbank-view" id="donations-view">
                <div class="view-actions">
                    <button class="btn btn-primary" id="add-donation-btn">
                        <i class="fas fa-plus"></i> Add Donation
                    </button>
                    <div class="view-filters">
                        <select id="donation-type" class="filter-select">
                            <option value="all">All Types</option>
                            <option value="food">Food</option>
                            <option value="monetary">Monetary</option>
                            <option value="supplies">Supplies</option>
                        </select>
                        <select id="donation-sort" class="filter-select">
                            <option value="date-desc">Newest First</option>
                            <option value="date-asc">Oldest First</option>
                            <option value="amount-desc">Amount (High-Low)</option>
                            <option value="amount-asc">Amount (Low-High)</option>
                        </select>
                    </div>
                </div>

                <div class="search-bar">
                    <i class="fas fa-search"></i>
                    <input type="text" id="donation-search" placeholder="Search donations...">
                </div>

                <div class="table-container">
                    <table class="foodbank-table" id="donations-table">
                        <thead>
                            <tr>
                                <th>Donation ID</th>
                                <th>Donor</th>
                                <th>Date</th>
                                <th>Type</th>
                                <th>Items/Amount</th>
                                <th>Value</th>
                                <th>Actions</th>
                            </tr>
                        </thead>
                        <tbody id="donations-body">
                            <!-- Populated by JavaScript -->
                        </tbody>
                    </table>
                </div>

                <div class="pagination" id="donations-pagination">
                    <button class="pagination-btn" id="donations-prev"><i class="fas fa-chevron-left"></i></button>
                    <div class="pagination-numbers" id="donations-pages"></div>
                    <button class="pagination-btn" id="donations-next"><i class="fas fa-chevron-right"></i></button>
                </div>

                <div class="empty-state" id="donations-empty">
                    <img src="../img/donations_empty.png" alt="No donations">
                    <h3>No donation records found</h3>
                    <p>When donations are recorded, they will appear here.</p>
                    <button class="btn btn-primary" id="add-first-donation">
                        <i class="fas fa-plus"></i> Record Your First Donation
                    </button>
                </div>
            </div>

            <!-- Statistics Section -->
            <div class="foodbank-stats">
                <h3><i class="fas fa-chart-bar"></i> Food Bank Statistics</h3>
                <div class="stats-grid">
                    <div class="stat-card">
                        <div class="stat-value" id="stat-inventory">$15,240</div>
                        <div class="stat-label">Inventory Value</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stat-requests">28</div>
                        <div class="stat-label">Active Requests</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stat-families">120</div>
                        <div class="stat-label">Families Served</div>
                    </div>
                    <div class="stat-card">
                        <div class="stat-value" id="stat-distributed">3,450</div>
                        <div class="stat-label">Items Distributed</div>
                    </div>
                </div>
            </div>
        </main>

        <!-- Footer -->
        <footer class="crosspoint-footer">
            <div class="footer-content">
                <img src="../img/ELYASHIB.png" alt="Elyashib Logo" class="footer-logo">
                <span class="footer-text">Powered by Elyashib</span>
            </div>
        </footer>
    </div>

    <!-- Add Item Modal -->
    <div class="modal" id="add-item-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Add Inventory Item</h2>
                <button class="modal-close" id="close-add-item">&times;</button>
            </div>
            <div class="modal-body">
                <form id="add-item-form">
                    <div class="form-group">
                        <label for="item-name">Item Name*</label>
                        <input type="text" id="item-name" placeholder="Enter item name" required>
                    </div>

                    <div class="form-group">
                        <label for="item-category">Category*</label>
                        <select id="item-category" required>
                            <option value="">Select a category</option>
                            <option value="canned">Canned Goods</option>
                            <option value="grains">Grains & Pasta</option>
                            <option value="dairy">Dairy</option>
                            <option value="produce">Produce</option>
                            <option value="meat">Meat & Protein</option>
                            <option value="baby">Baby Supplies</option>
                            <option value="hygiene">Hygiene Products</option>
                        </select>
                    </div>

                    <div class="form-row">
                        <div class="form-group">
                            <label for="item-quantity">Quantity*</label>
                            <input type="number" id="item-quantity" placeholder="Enter quantity" required>
                        </div>
                        <div class="form-group">
                            <label for="item-unit">Unit*</label>
                            <input type="text" id="item-unit" placeholder="e.g., cans, lbs" required>
                        </div>
                    </div>

                    <div class="form-group">
                        <label for="item-expiry">Expiry Date</label>
                        <input type="date" id="item-expiry">
                    </div>

                    <div class="form-group">
                        <label for="item-location">Location</label>
                        <input type="text" id="item-location" placeholder="Enter storage location">
                    </div>

                    <div class="form-group">
                        <label for="item-notes">Notes</label>
                        <textarea id="item-notes" placeholder="Enter any notes" rows="2"></textarea>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-save" id="submit-add-item">Save Item</button>
                <button class="btn btn-cancel" id="cancel-add-item">Cancel</button>
            </div>
        </div>
    </div>

    <!-- View Request Modal -->
    <div class="modal" id="view-request-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Request Details</h2>
                <button class="modal-close" id="close-view-request">&times;</button>
            </div>
            <div class="modal-body">
                <div class="detail-group">
                    <div class="detail-row">
                        <span class="detail-label">Request ID:</span>
                        <span class="detail-value" id="detail-id">#FB-2025-0012</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Name:</span>
                        <span class="detail-value" id="detail-name">Maria Gonzalez</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Date:</span>
                        <span class="detail-value" id="detail-date">2025-06-28</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Status:</span>
                        <span class="detail-value" id="detail-status"><span class="status-badge pending">Pending</span></span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Household:</span>
                        <span class="detail-value" id="detail-household">4 (2 adults, 2 children)</span>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Requested Items:</span>
                        <div class="detail-value" id="detail-items">
                            <ul>
                                <li>Rice (5kg) - 1 bag</li>
                                <li>Canned Beans - 4 cans</li>
                                <li>Whole Milk - 2 gallons</li>
                                <li>Eggs - 1 dozen</li>
                            </ul>
                        </div>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Contact:</span>
                        <div class="detail-value" id="detail-contact">
                            <p>Phone: (555) 123-4567</p>
                            <p>Email: maria.g@example.com</p>
                        </div>
                    </div>
                    <div class="detail-row">
                        <span class="detail-label">Notes:</span>
                        <span class="detail-value" id="detail-notes">First-time requester. Referred by community center.</span>
                    </div>
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-primary" id="approve-request">Approve</button>
                <button class="btn btn-secondary" id="deny-request">Deny</button>
                <button class="btn btn-cancel" id="close-request">Close</button>
            </div>
        </div>
    </div>

    <script src="../js/crosspoint.js"></script>
    <script src="../js/fb.js"></script>
</body>
</html>